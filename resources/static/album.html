<!DOCTYPE html>
<html lang="en">
<head>
    <title>{{.Title}}</title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="icon" href="/static/favicon.png" type="image/png"/>
    <link rel="stylesheet" href="/static/pure.css">
    <link rel="stylesheet" href="/static/photoswipe.css">
    <link rel="stylesheet" href="/static/photoswipe-dynamic-caption-plugin.css">

    <script src="/static/jquery-3.6.3.min.js"></script>
    <script src="/static/client.js"></script>
    <script src="/static/photoswipe.umd.min.js"></script>
    <script src="/static/photoswipe-lightbox.umd.min.js"></script>
    <script src="/static/photoswipe-dynamic-caption-plugin.umd.min.js"></script>
    <script src="/static/blurhash.js"></script>
    <script src="/static/album.js"></script>

    <meta property="og:title" content="{{.Title}}"/>
    <meta property="og:type" content="website"/>
    <meta property="og:image" content="{{.CoverImage}}"/>

    <meta name="robots" content="noindex">

    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.3/dist/leaflet.css"
          integrity="sha256-kLaT2GOSpHechhsozzB+flnD+zUyjE2LlfWPgU04xyI="
          crossorigin=""/>
    <!-- Make sure you put this AFTER Leaflet's CSS -->
    <script src="https://unpkg.com/leaflet@1.9.3/dist/leaflet.js"
            integrity="sha256-WBkoXOwTeyKclOHuWtc+i2uENFpDZ9YPdf5Hf+D7ewM="
            crossorigin=""></script>

    <style>
        body {
            background: #111;
            color: #ddd;
        }

        /*{{if .NonAdmin}}*/
        .control-panel {
            display: none !important;
        }
        /*{{end}}*/

        .image-marker {
            border-radius: 20%;
        }

        .thumb canvas {
            position: absolute;
            width: 300px;
            height: 200px;
            z-index: 1;
            display: block;
        }

        .thumb img {
            position: relative;
            z-index: 2;
        }

        .exif {
            position: absolute;
            right: 10px;
            background: #222;
            padding: 10px;
            width: fit-content;
        }

        .ctrl-icon {
            background-size: 30px;
            width: 30px;
            height: 30px;
            display: inline-block;
            background-color: #eee;
            border-radius: 20%;
            margin: 5px;
        }

        .edit-ctrl {
            /* https://www.iconfinder.com/icons/211730/compose_icon */
            background-image: url('data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiA/PjwhRE9DVFlQRSBzdmcgIFBVQkxJQyAnLS8vVzNDLy9EVEQgU1ZHIDEuMS8vRU4nICAnaHR0cDovL3d3dy53My5vcmcvR3JhcGhpY3MvU1ZHLzEuMS9EVEQvc3ZnMTEuZHRkJz48c3ZnIGhlaWdodD0iNTEycHgiIGlkPSJMYXllcl8xIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA1MTIgNTEyOyIgdmVyc2lvbj0iMS4xIiB2aWV3Qm94PSIwIDAgNTEyIDUxMiIgd2lkdGg9IjUxMnB4IiB4bWw6c3BhY2U9InByZXNlcnZlIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIj48Zz48cG9seWdvbiBwb2ludHM9IjIwOCwyNzEuNyAyMDgsMzA0IDI0MC4yLDMwNCA0MjAuMywxMjQgMzg3LjksOTEuNyAgIi8+PHBhdGggZD0iTTQ0NC4yLDgwLjNsLTEyLjUtMTIuNWMtMi43LTIuNC02LjItMy44LTEwLTMuOGMtMy44LDAtNy4zLDEuNS05LjksMy44TDM5OS43LDgwbDAuMSwwLjFMNDExLDkxLjRsMjEsMjFsMTIuMi0xMi4yICAgYzIuNC0yLjYsMy44LTYuMSwzLjgtOS45QzQ0OC4xLDg2LjUsNDQ2LjYsODMsNDQ0LjIsODAuM3oiLz48cG9seWdvbiBwb2ludHM9IjI1NS41LDMyMCAxOTIsMzIwIDE5MiwyNTYuNCAzMjAsMTI4LjQgMzE5LjcsMTI4LjQgMzIwLjEsMTI4IDgwLDEyOCA4MCw0MTYgMzg0LDQxNiAzODQsMTkzLjggMzg0LjEsMTkxLjMgICIvPjwvZz48L3N2Zz4=');
        }

        .gear-ctrl {
            /* https://www.iconfinder.com/icons/211751/gear_icon */
            background-image: url('data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiA/PjwhRE9DVFlQRSBzdmcgIFBVQkxJQyAnLS8vVzNDLy9EVEQgU1ZHIDEuMS8vRU4nICAnaHR0cDovL3d3dy53My5vcmcvR3JhcGhpY3MvU1ZHLzEuMS9EVEQvc3ZnMTEuZHRkJz48c3ZnIGhlaWdodD0iNTEycHgiIGlkPSJMYXllcl8xIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA1MTIgNTEyOyIgdmVyc2lvbj0iMS4xIiB2aWV3Qm94PSIwIDAgNTEyIDUxMiIgd2lkdGg9IjUxMnB4IiB4bWw6c3BhY2U9InByZXNlcnZlIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIj48cGF0aCBkPSJNNDI0LjUsMjE2LjVoLTE1LjJjLTEyLjQsMC0yMi44LTEwLjctMjIuOC0yMy40YzAtNi40LDIuNy0xMi4yLDcuNS0xNi41bDkuOC05LjZjOS43LTkuNiw5LjctMjUuMywwLTM0LjlsLTIyLjMtMjIuMSAgYy00LjQtNC40LTEwLjktNy0xNy41LTdjLTYuNiwwLTEzLDIuNi0xNy41LDdsLTkuNCw5LjRjLTQuNSw1LTEwLjUsNy43LTE3LDcuN2MtMTIuOCwwLTIzLjUtMTAuNC0yMy41LTIyLjdWODkuMSAgYzAtMTMuNS0xMC45LTI1LjEtMjQuNS0yNS4xaC0zMC40Yy0xMy42LDAtMjQuNCwxMS41LTI0LjQsMjUuMXYxNS4yYzAsMTIuMy0xMC43LDIyLjctMjMuNSwyMi43Yy02LjQsMC0xMi4zLTIuNy0xNi42LTcuNGwtOS43LTkuNiAgYy00LjQtNC41LTEwLjktNy0xNy41LTdzLTEzLDIuNi0xNy41LDdMMTEwLDEzMmMtOS42LDkuNi05LjYsMjUuMywwLDM0LjhsOS40LDkuNGM1LDQuNSw3LjgsMTAuNSw3LjgsMTYuOSAgYzAsMTIuOC0xMC40LDIzLjQtMjIuOCwyMy40SDg5LjJjLTEzLjcsMC0yNS4yLDEwLjctMjUuMiwyNC4zVjI1NnYxNS4yYzAsMTMuNSwxMS41LDI0LjMsMjUuMiwyNC4zaDE1LjIgIGMxMi40LDAsMjIuOCwxMC43LDIyLjgsMjMuNGMwLDYuNC0yLjgsMTIuNC03LjgsMTYuOWwtOS40LDkuM2MtOS42LDkuNi05LjYsMjUuMywwLDM0LjhsMjIuMywyMi4yYzQuNCw0LjUsMTAuOSw3LDE3LjUsNyAgYzYuNiwwLDEzLTIuNiwxNy41LTdsOS43LTkuNmM0LjItNC43LDEwLjItNy40LDE2LjYtNy40YzEyLjgsMCwyMy41LDEwLjQsMjMuNSwyMi43djE1LjJjMCwxMy41LDEwLjgsMjUuMSwyNC41LDI1LjFoMzAuNCAgYzEzLjYsMCwyNC40LTExLjUsMjQuNC0yNS4xdi0xNS4yYzAtMTIuMywxMC43LTIyLjcsMjMuNS0yMi43YzYuNCwwLDEyLjQsMi44LDE3LDcuN2w5LjQsOS40YzQuNSw0LjQsMTAuOSw3LDE3LjUsNyAgYzYuNiwwLDEzLTIuNiwxNy41LTdsMjIuMy0yMi4yYzkuNi05LjYsOS42LTI1LjMsMC0zNC45bC05LjgtOS42Yy00LjgtNC4zLTcuNS0xMC4yLTcuNS0xNi41YzAtMTIuOCwxMC40LTIzLjQsMjIuOC0yMy40aDE1LjIgIGMxMy42LDAsMjMuMy0xMC43LDIzLjMtMjQuM1YyNTZ2LTE1LjJDNDQ3LjgsMjI3LjIsNDM4LjEsMjE2LjUsNDI0LjUsMjE2LjV6IE0zMzYuOCwyNTZMMzM2LjgsMjU2YzAsNDQuMS0zNS43LDgwLTgwLDgwICBjLTQ0LjMsMC04MC0zNS45LTgwLTgwbDAsMGwwLDBjMC00NC4xLDM1LjctODAsODAtODBDMzAxLjEsMTc2LDMzNi44LDIxMS45LDMzNi44LDI1NkwzMzYuOCwyNTZ6Ii8+PC9zdmc+');
        }

        .exif table th {
            text-align: left;
        }

        .gallery {
            width: 100%;
            display: grid;
            grid-template-columns: repeat(auto-fit, 300px);
        }

        #map {
            height: 500px;
            margin-top: 40px;
            display: none;
            grid-column: 1 / -1;
        }
    </style>
</head>
<body>

<div style="margin:2em">
    <h1 id="album-title">{{.Title}}</h1>

    <div class="gallery"></div>

    <div class="gallery-pano" style="display:none">
        <h2>Panoramas</h2>

    </div>

    <div>
        <a href="/album/{{.Name}}.zip">Download all photos (zip).</a>
    </div>
</div>


<script>
    loadAlbum("{{.Name}}");
</script>
</body>
</html>